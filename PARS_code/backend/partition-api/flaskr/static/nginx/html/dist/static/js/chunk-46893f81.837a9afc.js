(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46893f81"],{"6b1e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticClass:"input-panel",attrs:{type:"flex",align:"middle",justify:"center"}},[n("el-col",{attrs:{span:4,offset:2}},[n("el-select",{attrs:{placeholder:"请选择表"},on:{change:e.updateColumns},model:{value:e.selectedTable,callback:function(t){e.selectedTable=t},expression:"selectedTable"}},e._l(e.table_options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-col",{attrs:{span:6,offset:2}},[n("el-input",{staticStyle:{},attrs:{placeholder:"请输入查询"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),n("el-col",{attrs:{span:10,offset:2}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择索引列"},model:{value:e.indexList,callback:function(t){e.indexList=t},expression:"indexList"}},e._l(e.indexOptions,(function(e,t){return n("el-option",{key:"p"+t,attrs:{label:e,value:e}})})),1),n("el-button",{attrs:{type:"info"},on:{click:e.initIndex}},[e._v("索引构建")])],1)],1),n("el-row",{attrs:{type:"flex",align:"middle",justify:"center"}},[n("el-col",{attrs:{span:4,offset:2}},[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("获取")])],1)],1),n("div",{staticClass:"result-panel"},[n("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:18}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableData,height:"600",border:"",stripe:""}},e._l(e.columns,(function(e,t){return n("el-table-column",{key:t,attrs:{prop:e,label:e}})})),1)],1)],1)],1)],1)},l=[],s=n("83df"),i=n("5c96"),o={data:function(){return{table_options:[{value:"customer",label:"customer"},{value:"lineitem",label:"lineitem"}],selectedTable:"",tableData:[],columns:[],query:'SELECT * FROM "TPCD".customer',listLoading:!1,indexOptions:[],indexList:[]}},methods:{submit:function(){var e=this,t=i["Loading"].service({fullscreen:!0});this.listLoading=!0,Object(s["c"])({tablename:this.selectedTable,query:this.query}).then((function(t){e.columns=t.data.columns,e.tableData=t.data.tabledata})),this.listLoading=!1,t.close()},updateColumns:function(){var e=this;Object(s["b"])(this.selectedTable).then((function(t){e.indexOptions=t.data.columns}))},initIndex:function(){this.sleep(2e3),this.$message.success("索引构建完成")},sleep:function(e){var t=(new Date).getTime()+parseInt(e,10);while((new Date).getTime()<t);}}},c=o,r=(n("7186"),n("2877")),u=Object(r["a"])(c,a,l,!1,null,"3ca51960",null);t["default"]=u.exports},7186:function(e,t,n){"use strict";n("c33c")},"83df":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("b775");function l(e){return Object(a["a"])({url:"/aidb/index/tabledata",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/aidb/storage/tableInfo/columns/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/aidb/index/recommand",method:"get",params:e})}},c33c:function(e,t,n){}}]);