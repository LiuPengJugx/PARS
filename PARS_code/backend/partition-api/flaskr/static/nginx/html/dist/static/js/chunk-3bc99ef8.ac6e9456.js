(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bc99ef8"],{a437:function(t,e,l){},b2e6:function(t,e,l){"use strict";l.d(e,"d",(function(){return a})),l.d(e,"c",(function(){return r})),l.d(e,"a",(function(){return n})),l.d(e,"b",(function(){return s}));var o=l("b775");function a(){return Object(o["a"])({url:"/aidb/storgae/horizontal/original",method:"get"})}function r(){return Object(o["a"])({url:"/aidb/storgae/horizontal/orgtable",method:"get"})}function n(){return Object(o["a"])({url:"/aidb/storgae/horizontal/partitionQD",method:"get"})}function s(t){return Object(o["a"])({url:"/aidb/storgae/horizontal/partition"+t,method:"get"})}},b6ea:function(t,e,l){"use strict";l("a437")},db64:function(t,e,l){"use strict";l.r(e);var o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-row",{attrs:{type:"flex",justify:"center"}},[l("el-col",{staticClass:"form-panel",attrs:{span:5,offset:2}},[l("el-form",{ref:"form",attrs:{model:t.form,inline:!1,size:"medium"}},[l("el-form-item",{attrs:{label:"选择表"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.table,callback:function(e){t.$set(t.form,"table",e)},expression:"form.table"}},t._l(t.tableList,(function(t){return l("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),l("el-form-item",{attrs:{label:"选择负载"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.workload,callback:function(e){t.$set(t.form,"workload",e)},expression:"form.workload"}},t._l(t.workloadList,(function(t){return l("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),l("el-form-item",{attrs:{label:"选择算法"}},[l("el-radio",{attrs:{label:"SOP"},model:{value:t.selectedMethod,callback:function(e){t.selectedMethod=e},expression:"selectedMethod"}},[t._v("SOP")]),l("el-radio",{attrs:{label:"QDTree"},model:{value:t.selectedMethod,callback:function(e){t.selectedMethod=e},expression:"selectedMethod"}},[t._v("QDTree")])],1),l("el-form-item",[l("el-button",{attrs:{type:"info"},on:{click:t.onSubmit}},[t._v("确认生成")])],1)],1)],1),l("el-col",{attrs:{span:8,offset:0}},[l("h2",[t._v("原表:"),l("span",[t._v(t._s(t.form.table))]),t._v(" 元组数:"),l("span",[t._v(t._s(t.skipNum))])]),l("el-table",{attrs:{data:t.tableData,border:"",stripe:""}},t._l(t.tupleColumns,(function(t){return l("el-table-column",{key:"tuple"+t,attrs:{prop:t,label:t}})})),1)],1),l("el-col",{attrs:{span:4,offset:2}},[l("h2",[t._v("负载展示:")]),l("el-table",{attrs:{data:t.workloadData,border:"",stripe:""}},t._l(t.workloadColumns,(function(t){return l("el-table-column",{key:"sql"+t,attrs:{prop:t,label:t}})})),1)],1)],1),l("el-row",{staticClass:"result-panel",attrs:{type:"flex",justify:"center"}})],1)},a=[],r=(l("d81d"),l("b2e6")),n={data:function(){return{selectedMethod:"",form:{table:"",workload:""},skipNum:0,tableWidth:4,tableList:["test1.tbl","test5.tbl","test4.tbl","test3.tbl","test2.tbl"],workloadList:["workload1.sql","workload2.sql","workload3.sql","workload4.sql"],tupleColumns:[],workloadColumns:["NO","SQLINFO"],tableData:[],workloadData:[]}},methods:{onSubmit:function(){var t=this;"QDTree"==this.selectedMethod?Object(r["d"])().then((function(e){t.tupleColumns=["A","B"],t.tableData=e.data.tuple.map((function(e){for(var l={},o=0;o<t.tupleColumns.length;o++)l[t.tupleColumns[o]]=e[o];return l})),t.workloadData=e.data.workload.map((function(e){for(var l={},o=0;o<t.workloadColumns.length;o++)l[t.workloadColumns[o]]=e[o];return l})),t.skipNum=e.data.tupleNumber})):Object(r["c"])().then((function(e){t.tupleColumns=["event","category","publicher","revenue","discount","A","B"],t.tableData=e.data.tuple.map((function(e){for(var l={},o=0;o<t.tupleColumns.length;o++)l[t.tupleColumns[o]]=e[o];return l})),t.workloadData=e.data.workload.map((function(e){for(var l={},o=0;o<t.workloadColumns.length;o++)l[t.workloadColumns[o]]=e[o];return l})),t.skipNum=e.data.tupleNumber,t.tableWidth=8}))}}},s=n,u=(l("b6ea"),l("2877")),i=Object(u["a"])(s,o,a,!1,null,"078aec08",null);e["default"]=i.exports}}]);