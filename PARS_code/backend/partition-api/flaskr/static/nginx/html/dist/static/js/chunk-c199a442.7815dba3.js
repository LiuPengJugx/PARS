(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c199a442"],{"3ef7":function(t,e,n){},"50dd":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-panel"},[n("el-row",{staticClass:"row-bg input-panel",attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:6,offset:0}},[n("span",[t._v("表名：")]),n("el-select",{attrs:{placeholder:"请选择表"},on:{change:t.initTableConfig},model:{value:t.listQuery.tabName,callback:function(e){t.$set(t.listQuery,"tabName",e)},expression:"listQuery.tabName"}},t._l(t.table_options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-col",{attrs:{span:6,offset:0}},[n("span",[t._v("数据量：")]),n("el-input-number",{attrs:{min:1,max:200,label:"描述文字"},model:{value:t.listQuery.rowNum,callback:function(e){t.$set(t.listQuery,"rowNum",e)},expression:"listQuery.rowNum"}})],1),n("el-col",{attrs:{span:2,offset:0}},[n("el-button",{attrs:{type:"primary"},on:{click:t.getTableData}},[t._v("获取")])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"result-panel"},[n("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:20}},[n("el-table",{attrs:{"row-class-name":t.tableRowClassName,data:t.studentInfo,height:"600",border:"",stripe:""}},t._l(t.columns,(function(t){return n("el-table-column",{key:t.id,attrs:{prop:t.val,label:t.label}})})),1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":t.listQuery.pageCount,"current-page":t.listQuery.currentPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:current-page":function(e){return t.$set(t.listQuery,"currentPage",e)}}})],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:4,offset:0}},[n("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.saveTableInfo}},[t._v("添加")])],1),n("el-col",{attrs:{span:4,offset:2}},t._l(t.selectedTableList,(function(e){return n("span",{key:"t"+e,staticStyle:{"margin-left":"10px"},attrs:{type:"info"}},[t._v(t._s(e))])})),0)],1)],1)],1)},a=[],o=n("1da1"),l=n("b85c"),u=(n("96cf"),n("d81d"),n("f5c5")),i={data:function(){return{table_options:[{value:"orders",label:"orders"},{value:"customer",label:"customer"},{value:"lineitem",label:"lineitem"}],columns:[],studentInfo:[],listQuery:{tabName:"customer",rowNum:100,pageSize:8,pageCount:5,currentPage:1},listLoading:!1,selectedTableList:[]}},computed:{},created:function(){var t=this;console.log("importdata 没有被复用"),this.table_options=[],Object(u["c"])().then((function(e){var n,r=Object(l["a"])(e.data);try{for(r.s();!(n=r.n()).done;){var a=n.value,o={};o["value"]=a,o["label"]=a,t.table_options.push(o)}}catch(u){r.e(u)}finally{r.f()}}))},methods:{handleCurrentChange:function(t){this.listQuery.currentPage=t,this.getTableData()},saveTableInfo:function(){-1==this.selectedTableList.indexOf(this.listQuery.tabName)&&this.selectedTableList.push(this.listQuery.tabName),this.$store.commit("SET_TABLE",this.selectedTableList)},getTableData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,t.listQuery.pageCount=Math.ceil(t.listQuery.rowNum/t.listQuery.pageSize),e.next=4,Object(u["d"])(t.listQuery).then((function(e){var n=e.data;t.columns=n.columns.map((function(t,e){return{id:e,val:t,label:t}})),t.studentInfo=n.student_info.map((function(t){for(var e={},r=0;r<t.length;r++)e[n.columns[r]]=t[r];return e}));t.columns.map((function(t){return t.label}));t.listLoading=!1}));case 4:case"end":return e.stop()}}),e)})))()},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""},initTableConfig:function(){this.listQuery.currentPage=1}}},s=i,c=(n("cfc5"),n("2877")),f=Object(c["a"])(s,r,a,!1,null,"4abd461b",null);e["default"]=f.exports},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("fb6a"),n("b0c0"),n("a630");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){i=!0,l=t},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(i)throw l}}}}},cfc5:function(t,e,n){"use strict";n("3ef7")},f5c5:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("b775");function a(t){return Object(r["a"])({url:"/aidb/storage/tableInfo/"+t["tabName"],method:"get",params:t})}function o(){return Object(r["a"])({url:"/aidb/storage/tabList",method:"get"})}function l(t){return Object(r["a"])({url:"/aidb/storage/tableInfo/columns/"+t,method:"get"})}function u(t){return Object(r["a"])({url:"/aidb/storage/workload/"+t,method:"get"})}function i(t){return Object(r["a"])({url:"/aidb/storage/workload/add",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/aidb/storage/vertical/partitions/analysis",method:"post",data:t})}}}]);